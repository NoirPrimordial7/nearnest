mutation CreateInstance {
  instance_insert(data: {
    name: "New Instance",
    description: "A new instance for testing",
    ownerUid_expr: "auth.uid"
  }) @auth(level: USER)
}

query ListMyInstances {
  instances(where: {ownerUid: {eq_expr: "auth.uid"}}) {
    id
    name
    description
  } @auth(level: USER)
}

mutation UpdateInstance($id: UUID!, $name: String, $description: String) {
  instance_update(key: {id: $id}, data: {
    name: $name,
    description: $description
  }) @auth(level: USER)
}

mutation DeleteInstance($id: UUID!) {
  instance_delete(key: {id: $id}) @auth(level: USER)
}