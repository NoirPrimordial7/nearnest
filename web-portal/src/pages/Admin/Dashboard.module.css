:root{
  --card: #ffffff;
  --border: #ececec;
  --muted: #6b7280;
  --text: #111111;

  --gap-sm: clamp(8px, 1vw, 12px);
  --gap-md: clamp(12px, 1.2vw, 16px);
  --gap-lg: clamp(14px, 1.6vw, 22px);
  --card-pad: clamp(12px, 1.4vw, 16px);
}

/* page wrapper */
.wrap{
  display:flex;
  flex-direction:column;
  gap: var(--gap-lg);
  padding-bottom: 24px;
}

/* ===== Alerts ===== */
.alerts{display:flex;gap:10px;flex-wrap:wrap;}
.alertPill{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 12px;border-radius:999px;
  background:rgba(255,255,255,.92);
  border:1px solid var(--border);
  box-shadow:0 6px 14px rgba(17,17,17,.06), inset 0 1px 0 rgba(255,255,255,.9);
  backdrop-filter:blur(3px) saturate(110%);
  color:var(--text);
}
.alertPill a{color:var(--text); font-weight:700; text-decoration:none;}
.alertPill a:hover{text-decoration:underline;}
.alertDot{width:8px;height:8px;border-radius:999px;background:#10b981;}

/* ===== KPI Row ===== */
.kpiRow{
  display:grid;
  grid-template-columns: repeat(6, minmax(160px, 1fr));
  gap: var(--gap-md);
}
.kpiCard{
  display:flex;align-items:center;gap:12px;
  padding:14px;border-radius:16px;background:var(--card);
  border:1px solid var(--border);
  box-shadow:0 12px 26px rgba(17,17,17,.06), inset 0 1px 0 rgba(255,255,255,.95);
  min-height: 74px;
}
.kpiIcon{
  display:grid;place-items:center;
  width:36px;height:36px;border-radius:12px;
  border:1px solid var(--border); background:#fff;
}
.kpiMeta{display:flex;flex-direction:column;}
.kpiValue{font-size:18px;font-weight:800;line-height:1;}
.kpiLabel{font-size:12px;color:var(--muted);}

/* ===== Cards / Charts ===== */
.grid{
  display:grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: var(--gap-lg);
}
.card{
  background: var(--card);
  border:1px solid var(--border);
  border-radius: 20px;
  box-shadow: 0 14px 32px rgba(17,17,17,.08), inset 0 1px 0 rgba(255,255,255,.9);
  display:flex;flex-direction:column;min-width:0;
  min-height: 360px;
  overflow: hidden; /* keep everything inside rounded corners */
}
.cardHead{
  display:flex;align-items:flex-start;justify-content:space-between;
  padding: var(--card-pad) var(--card-pad) 0 var(--card-pad);
  gap: 12px;
}
.cardTitle{font-weight:800;letter-spacing:.2px;margin:0;}
.cardSub{color:var(--muted);margin:4px 0 0 0;font-size:12px;}
.cardTools{display:flex;align-items:center;gap:8px;}
.cardBody{
  padding: 8px var(--card-pad) var(--card-pad) var(--card-pad);
  display:flex; flex-direction:column; min-height:0;
}

.chartPad{ flex:1; min-height: 260px; }

/* Pie layout with inside legend */
.pieArea{
  position: relative;
  flex: 1;
  min-height: 260px;
  /* reserve space for legend at the bottom of the card */
  padding-bottom: 48px;
}
.legendInside{
  position: absolute;
  left: var(--card-pad);
  right: var(--card-pad);
  bottom: 10px;
  display:flex;gap:16px;flex-wrap:wrap;justify-content:center;align-items:center;
}
.legendItem{display:flex;align-items:center;gap:8px;color:#374151;font-size:12px;}
.legendItem b{margin-left:2px;}
.legendDot{width:10px;height:10px;border-radius:999px;border:1px solid #e5e7eb;}

/* Tabs */
.tabs{display:inline-flex;border:1px solid var(--border);border-radius:12px;background:#fff;overflow:hidden}
.tab{ padding:6px 10px;border:none;background:transparent;font-weight:700;cursor:pointer;}
.tabActive{background:#111;color:#fff;}

/* Actions */
.actionsRow{
  display:grid;grid-template-columns:repeat(3, minmax(180px, 1fr));
  gap: var(--gap-lg);
}
.actionBtn{
  display:flex;align-items:center;gap:10px;
  padding:14px;border-radius:14px;text-decoration:none;color:var(--text);
  background:#fff; border:1px solid var(--border);
  box-shadow:0 12px 26px rgba(17,17,17,.06);
  transition:transform .12s ease, box-shadow .12s ease;
}
.actionBtn:hover{transform:translateY(-1px);box-shadow:0 18px 40px rgba(17,17,17,.10);}

/* grid spans */
.span12{ grid-column: span 12; }
.span7 { grid-column: span 7; }
.span5 { grid-column: span 5; }

/* ===== Responsive ===== */
@media (max-width: 1200px){
  .kpiRow{grid-template-columns: repeat(3, minmax(160px, 1fr));}
  .span7, .span5 { grid-column: span 12; }
  .card{ min-height: 340px; }
  .actionsRow{grid-template-columns:repeat(2, minmax(160px, 1fr));}
}
@media (max-width: 720px){
  .kpiRow{grid-template-columns: repeat(2, minmax(150px, 1fr));}
  .actionsRow{grid-template-columns:1fr;}
}
